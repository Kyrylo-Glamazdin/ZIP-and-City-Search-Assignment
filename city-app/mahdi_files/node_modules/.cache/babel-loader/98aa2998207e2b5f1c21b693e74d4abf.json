{"ast":null,"code":"var _jsxFileName = \"/Users/kirill_glamazdin/Desktop/Web/Zip_Assignment/ZIP_City_Assignment/city-app/mahdi_files/src/SearchBar/SearchBar.js\";\nimport React from 'react';\nimport ZipCodes from '../ZipCodes/ZipCodes';\nimport StatesList from '../StatesList/StatesList';\n\nclass SearchBar extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      city: '',\n      zip_codes: [],\n      states_list: []\n    };\n    this.onChangeHandler = this.onChangeHandler.bind(this);\n    this.updateInfo = this.updateInfo.bind(this);\n  }\n\n  onChangeHandler(event) {\n    let value = event.target.value;\n    this.setState({\n      city: value\n    });\n  }\n\n  existsInStatesList(state_name) {\n    for (let i = 0; i < this.state.states_list.length; i++) {\n      if (this.state.states_list[i] === state_name) return true;\n    }\n\n    return false;\n  }\n\n  updateInfo() {\n    let component = this;\n    let url = \"http://ctp-zip-api.herokuapp.com/city/\" + this.state.city.toUpperCase();\n    this.setState({\n      states_list: []\n    });\n    fetch(url).then(res => res.json()).then(json => {\n      component.setState({\n        zip_codes: json\n      });\n    }).then(() => {\n      let zip_codes = component.state.zip_codes;\n\n      for (let i = 0; i < zip_codes.length; i++) {\n        let url_zip = \"http://ctp-zip-api.herokuapp.com/zip/\" + zip_codes[i];\n        fetch(url_zip).then(res => res.json()).then(json => {\n          for (let j = 0; j < json.length; j++) {\n            if (!component.existsInStatesList(json[j].State)) {\n              let states_list_ = component.state.states_list;\n              states_list_[states_list_.length] = json[j].State;\n              component.setState({\n                states_list: states_list_\n              });\n            }\n          }\n        });\n      }\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"ENTER CITY\",\n      onChange: this.onChangeHandler,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      onClick: () => {\n        this.updateInfo(this.state.city);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, \"Search\"), React.createElement(\"button\", {\n      onClick: () => {\n        console.log(this.state.zip_codes);\n        console.log(this.state.states_list);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, \"Show State\")), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, React.createElement(ZipCodes, {\n      zip_codes: this.state.zip_codes,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }), React.createElement(StatesList, {\n      states_list: this.state.states_list,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    })));\n  }\n\n}\n\nexport default SearchBar;","map":{"version":3,"sources":["/Users/kirill_glamazdin/Desktop/Web/Zip_Assignment/ZIP_City_Assignment/city-app/mahdi_files/src/SearchBar/SearchBar.js"],"names":["React","ZipCodes","StatesList","SearchBar","Component","constructor","props","state","city","zip_codes","states_list","onChangeHandler","bind","updateInfo","event","value","target","setState","existsInStatesList","state_name","i","length","component","url","toUpperCase","fetch","then","res","json","url_zip","j","State","states_list_","render","console","log"],"mappings":"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","sourcesContent":["import React from 'react'\nimport ZipCodes from '../ZipCodes/ZipCodes'\nimport StatesList from '../StatesList/StatesList'\n\nclass SearchBar extends React.Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            city: '',\n            zip_codes: [],\n            states_list: []\n        }\n\n        this.onChangeHandler = this.onChangeHandler.bind(this)\n        this.updateInfo = this.updateInfo.bind(this)\n    }\n\n    onChangeHandler(event) {\n        let { value } = event.target\n        this.setState({\n            city: value\n        })\n    }\n\n    existsInStatesList(state_name) {\n        for (let i = 0; i < this.state.states_list.length; i++) {\n            if (this.state.states_list[i] === state_name)\n                return true\n        }\n        return false\n    }\n\n    updateInfo() {\n        let component = this\n        let url = \"http://ctp-zip-api.herokuapp.com/city/\" + this.state.city.toUpperCase()\n\n        this.setState({\n            states_list: []\n        })\n\n        fetch(url)\n        .then(res => res.json())\n        .then(json => {\n            component.setState({\n                zip_codes: json\n            })\n        })\n        .then(() => {\n            let zip_codes = component.state.zip_codes\n            for (let i = 0; i < zip_codes.length; i++) {\n                let url_zip = \"http://ctp-zip-api.herokuapp.com/zip/\" + zip_codes[i]\n                fetch(url_zip)\n                .then(res => res.json())\n                .then(json => {\n                    for (let j = 0; j < json.length; j++) {\n                        if (!component.existsInStatesList(json[j].State)) {\n                            let states_list_ = component.state.states_list\n                            states_list_[states_list_.length] = json[j].State\n                            component.setState({\n                                states_list: states_list_\n                            })\n                        }\n                    }\n                })\n            }\n        })\n    }\n\n\n\n    render() {\n        return (\n            <div>\n                <div>\n                    <input type=\"text\" placeholder=\"ENTER CITY\" onChange={this.onChangeHandler} />\n                    <button \n                        onClick={ () => {\n                            this.updateInfo(this.state.city)\n                        }}>\n                        Search\n                    </button>\n                    <button onClick={ () => {\n                        console.log(this.state.zip_codes)\n                        console.log(this.state.states_list)\n                    }}>\n                        Show State\n                    </button>\n                </div>\n                <div>\n                    <ZipCodes zip_codes={this.state.zip_codes} />\n                    <StatesList states_list={this.state.states_list} />\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default SearchBar"]},"metadata":{},"sourceType":"module"}